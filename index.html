<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>SEO G√∂rev Y√∂neticisi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #f3f4f6;
      color: #111827;
    }

    body {
      margin: 0;
      padding: 0;
    }

    .app-container {
      max-width: 1100px;
      margin: 24px auto 40px;
      padding: 16px;
    }

    .card {
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.08);
      padding: 20px 24px;
      margin-bottom: 16px;
    }

    h1 {
      margin: 0 0 8px;
      font-size: 24px;
      font-weight: 700;
      letter-spacing: 0.01em;
    }

    .subtitle {
      margin: 0;
      font-size: 13px;
      color: #6b7280;
    }

    .top-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
      margin-top: 16px;
    }

    .field-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 13px;
    }

    .field-group label {
      color: #4b5563;
      font-weight: 500;
    }

    .input, .select, .button {
      border-radius: 8px;
      border: 1px solid #d1d5db;
      padding: 8px 10px;
      font-size: 14px;
      outline: none;
      min-height: 36px;
    }

    .input:focus, .select:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 1px rgba(59,130,246,0.3);
    }

    .input {
      min-width: 220px;
    }

    .button {
      background: #2563eb;
      color: #ffffff;
      border: none;
      cursor: pointer;
      padding: 8px 14px;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .button:hover {
      background: #1d4ed8;
    }

    .button.secondary {
      background: #f3f4f6;
      color: #111827;
      border: 1px solid #d1d5db;
    }

    .button.secondary:hover {
      background: #e5e7eb;
    }

    .select {
      min-width: 180px;
      background-color: #fff;
    }

    .tasks-card {
      margin-top: 8px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    thead {
      background: #f9fafb;
    }

    th, td {
      padding: 8px 8px;
      border-bottom: 1px solid #e5e7eb;
      vertical-align: top;
    }

    th {
      text-align: left;
      font-weight: 600;
      color: #4b5563;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }

    tr:hover td {
      background-color: #f9fafb;
    }

    .checkbox-cell {
      text-align: center;
      width: 40px;
    }

    input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 9999px;
      font-size: 11px;
      font-weight: 500;
      background-color: #eff6ff;
      color: #1d4ed8;
      border: 1px solid #dbeafe;
    }

    .priority-high {
      background-color: #fee2e2;
      border-color: #fecaca;
      color: #b91c1c;
    }

    .priority-medium {
      background-color: #fef3c7;
      border-color: #fde68a;
      color: #92400e;
    }

    .priority-low {
      background-color: #ecfdf3;
      border-color: #bbf7d0;
      color: #166534;
    }

    .status-select, .priority-select {
      width: 100%;
      box-sizing: border-box;
    }

    .json-preview-card {
      margin-top: 8px;
      font-size: 12px;
    }

    .json-preview-card h2 {
      margin: 0 0 6px;
      font-size: 13px;
    }

    .json-preview {
      width: 100%;
      min-height: 100px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 11px;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
      padding: 8px;
      background: #f9fafb;
      resize: vertical;
    }

    .hint {
      font-size: 12px;
      color: #6b7280;
      margin-top: 4px;
    }

    @media (max-width: 768px) {
      .top-bar {
        flex-direction: column;
        align-items: stretch;
      }
      .input, .select {
        width: 100%;
        min-width: 0;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <div class="card">
      <h1>SEO G√∂rev Y√∂neticisi</h1>
      <p class="subtitle">
        Domain se√ß, g√∂revleri g√ºncelle, her domain i√ßin ayrƒ± JSON kaydedilsin (tarayƒ±cƒ± localStorage).
      </p>

      <div class="top-bar">
        <div class="field-group">
          <label for="domainInput">Domain / Proje Adƒ±</label>
          <input id="domainInput" class="input" placeholder="√∂r. example.com veya proje-adi" />
        </div>

        <div class="field-group">
          <label>&nbsp;</label>
          <button id="loadDomainBtn" class="button">
            ‚öôÔ∏è Y√ºkle / Olu≈ütur
          </button>
        </div>

        <div class="field-group">
          <label for="projectSelect">Kayƒ±tlƒ± JSON Projeleri</label>
          <select id="projectSelect" class="select">
            <option value="">‚Äî Se√ß ‚Äî</option>
          </select>
        </div>

        <div class="field-group">
          <label>&nbsp;</label>
          <button id="deleteProjectBtn" class="button secondary">
            üóëÔ∏è Se√ßili Projeyi Sil
          </button>
        </div>
      </div>
      <p class="hint">
        Not: Her deƒüi≈üiklik otomatik kaydedilir. Proje JSON'larƒ± <strong>localStorage</strong>'da tutulur.
      </p>
    </div>

    <div class="card tasks-card">
      <h2 style="margin-top:0; font-size:16px;">G√∂revler</h2>
      <p class="hint">
        Bir domain y√ºkledikten sonra g√∂revleri g√ºncelleyebilirsin. Checkbox, √∂ncelik ve durum alanƒ± JSON'a yazƒ±lƒ±r.
      </p>
      <div style="overflow-x:auto;">
        <table>
          <thead>
            <tr>
              <th class="checkbox-cell">Bitti</th>
              <th>G√∂rev</th>
              <th>Kategori</th>
              <th>Alt Kategori</th>
              <th>A√ßƒ±klama</th>
              <th>√ñncelik</th>
              <th>Durum</th>
            </tr>
          </thead>
          <tbody id="tasksBody">
            <!-- JS ile doldurulacak -->
          </tbody>
        </table>
      </div>
    </div>

    <div class="card json-preview-card">
      <h2>Aktif Proje JSON √ñnizleme</h2>
      <textarea id="jsonPreview" class="json-preview" readonly></textarea>
      <p class="hint">
        Bu alan sadece okunur. domain bazlƒ± JSON yapƒ±sƒ±nƒ± g√∂rmen i√ßin; ihtiya√ß olursa kopyalayƒ±p dƒ±≈üarƒ± da alabilirsin.
      </p>
    </div>
  </div>

  <script>
    (function () {
      const STORAGE_PREFIX = "seoProject:";
      let currentProject = null;

      const TASKS_TEMPLATE = [
        { id: "hosting", title: "Hosting kontrol√º", category: "Teknik SEO", subcategory: "Site Altyapƒ±sƒ±", description: "Hosting hƒ±zƒ±nƒ± optimize et", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "ssl", title: "SSL kurulumu", category: "Teknik SEO", subcategory: "G√ºvenlik", description: "HTTPS/SSL sertifikasƒ±nƒ± doƒürula", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "mobile", title: "Mobil uyumluluk testi", category: "Teknik SEO", subcategory: "Mobil SEO", description: "Google Mobile-Friendly Test √ßalƒ±≈ütƒ±r", priority: "Orta", status: "Bekliyor", done: false },
        { id: "url-structure", title: "URL yapƒ± d√ºzenlemesi", category: "Teknik SEO", subcategory: "Site Altyapƒ±sƒ±", description: "Temiz ve okunabilir URL yapƒ±sƒ± olu≈ütur", priority: "Orta", status: "Bekliyor", done: false },
        { id: "robots", title: "robots.txt yapƒ±landƒ±rma", category: "Teknik SEO", subcategory: "Dizine Eklenebilirlik", description: "Gereksiz sayfalarƒ± engelle, √∂nemli sayfalarƒ± izinle", priority: "Y√ºksek", status: "Devam ediyor", done: false },
        { id: "sitemap", title: "XML Sitemap olu≈üturma", category: "Teknik SEO", subcategory: "Dizine Eklenebilirlik", description: "Sitemap olu≈ütur ve Google Search Console'a g√∂nder", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "title-optimization", title: "Title optimizasyonu", category: "On-Page SEO", subcategory: "Meta", description: "Her sayfaya benzersiz, a√ßƒ±klayƒ±cƒ± title ekle", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "meta-description", title: "Meta description yazƒ±mƒ±", category: "On-Page SEO", subcategory: "Meta", description: "Her sayfaya tƒ±klama odaklƒ± meta description yaz", priority: "Orta", status: "Bekliyor", done: false },
        { id: "h1", title: "H1 optimizasyonu", category: "On-Page SEO", subcategory: "ƒ∞√ßerik", description: "Her sayfada tek ve net bir H1 kullan", priority: "Orta", status: "Bekliyor", done: false },
        { id: "images-compress", title: "G√∂rselleri sƒ±kƒ±≈ütƒ±r", category: "G√∂rsel SEO", subcategory: "Performans", description: "G√∂rselleri m√ºmk√ºnse WebP formatƒ±na √ßevir ve sƒ±kƒ±≈ütƒ±r", priority: "Orta", status: "Bekliyor", done: false },
        { id: "images-alt", title: "ALT metin ekle", category: "G√∂rsel SEO", subcategory: "Eri≈üilebilirlik", description: "T√ºm g√∂rsellere anlamlƒ± ALT metni ekle", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "internal-links", title: "ƒ∞√ß baƒülantƒ± ekleme", category: "ƒ∞√ß Baƒülantƒ±", subcategory: "Navigasyon", description: "Sayfalar arasƒ±nda mantƒ±klƒ± i√ß link yapƒ±sƒ± olu≈ütur", priority: "Y√ºksek", status: "Devam ediyor", done: false },
        { id: "orphan-pages", title: "Yetim sayfa kontrol√º", category: "ƒ∞√ß Baƒülantƒ±", subcategory: "Teknik", description: "Orphan (baƒülantƒ±sƒ±z) sayfalarƒ± tespit et", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "backlink-audit", title: "Backlink analizi", category: "Off-Page SEO", subcategory: "Baƒülantƒ± Profili", description: "Zararlƒ±/spam backlinkleri tespit ve temizle", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "pagespeed", title: "PageSpeed testi", category: "Performans", subcategory: "Core Web Vitals", description: "PageSpeed Insights ile hƒ±z ve CWV analiz et", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "css-js", title: "CSS/JS optimizasyonu", category: "Performans", subcategory: "Kod Optimizasyon", description: "CSS/JS dosyalarƒ±nƒ± k√º√ß√ºlt ve m√ºmk√ºnse ertele (defer)", priority: "Orta", status: "Bekliyor", done: false },
        { id: "gsc-setup", title: "GSC doƒürulama", category: "Search Console", subcategory: "Setup", description: "Google Search Console m√ºlk√ºn√º ekle ve doƒürula", priority: "Y√ºksek", status: "Tamamlandƒ±", done: true },
        { id: "gsc-coverage", title: "Dizine ekleme sorunlarƒ± √ß√∂zme", category: "Search Console", subcategory: "Coverage", description: "Coverage raporundaki hatalarƒ± √ß√∂z", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "ga4-setup", title: "GA4 kurulumu", category: "Analytics", subcategory: "Setup", description: "Google Analytics 4 kurulumu ve baƒülantƒ±", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "goals", title: "D√∂n√º≈ü√ºm hedeflerini ayarla", category: "Analytics", subcategory: "√ñl√ß√ºmleme", description: "D√∂n√º≈ü√ºm hedefleri ve event tracking yapƒ±landƒ±r", priority: "Y√ºksek", status: "Bekliyor", done: false },
        { id: "kw-research", title: "Anahtar kelime ara≈ütƒ±rmasƒ±", category: "ƒ∞√ßerik Stratejisi", subcategory: "Keyword Research", description: "Temel anahtar kelime listesini √ßƒ±kar (Ahrefs, Semrush vb.)", priority: "Y√ºksek", status: "Devam ediyor", done: false },
        { id: "content-calendar", title: "ƒ∞√ßerik takvimi hazƒ±rlama", category: "ƒ∞√ßerik Stratejisi", subcategory: "Planlama", description: "Blog/landing sayfa yayƒ±n takvimi olu≈ütur", priority: "Orta", status: "Bekliyor", done: false },
        { id: "mobile-ux", title: "Mobil UX kontrol", category: "UX", subcategory: "Mobil", description: "Mobil gezinme ve okunabilirliƒüi kontrol et", priority: "Orta", status: "Bekliyor", done: false },
        { id: "cta", title: "CTA optimizasyonu", category: "UX", subcategory: "D√∂n√º≈ü√ºm", description: "Net, g√∂r√ºn√ºr ve ikna edici CTA butonlarƒ± tasarla", priority: "Orta", status: "Bekliyor", done: false }
      ];

      const PRIORITY_OPTIONS = ["D√º≈ü√ºk", "Orta", "Y√ºksek"];
      const STATUS_OPTIONS = ["Bekliyor", "Devam ediyor", "Tamamlandƒ±"];

      const domainInput = document.getElementById("domainInput");
      const loadDomainBtn = document.getElementById("loadDomainBtn");
      const projectSelect = document.getElementById("projectSelect");
      const deleteProjectBtn = document.getElementById("deleteProjectBtn");
      const tasksBody = document.getElementById("tasksBody");
      const jsonPreview = document.getElementById("jsonPreview");

      function getStorageKey(domain) {
        return STORAGE_PREFIX + domain;
      }

      function cloneTasksTemplate() {
        // deep clone
        return TASKS_TEMPLATE.map(t => ({ ...t }));
      }

      function loadExistingDomains() {
        const domains = [];
        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i);
          if (key && key.startsWith(STORAGE_PREFIX)) {
            const domain = key.substring(STORAGE_PREFIX.length);
            domains.push(domain);
          }
        }
        domains.sort();
        return domains;
      }

      function refreshProjectSelect(activeDomain) {
        const saved = loadExistingDomains();
        projectSelect.innerHTML = "";
        const placeholder = document.createElement("option");
        placeholder.value = "";
        placeholder.textContent = "‚Äî Se√ß ‚Äî";
        projectSelect.appendChild(placeholder);

        saved.forEach(domain => {
          const opt = document.createElement("option");
          opt.value = domain;
          opt.textContent = domain;
          if (activeDomain && activeDomain === domain) {
            opt.selected = true;
          }
          projectSelect.appendChild(opt);
        });
      }

      function saveCurrentProject() {
        if (!currentProject || !currentProject.domain) return;
        const key = getStorageKey(currentProject.domain);
        localStorage.setItem(key, JSON.stringify(currentProject));
        refreshProjectSelect(currentProject.domain);
        updateJsonPreview();
      }

      function loadProject(domain) {
        if (!domain) {
          alert("√ñnce bir domain / proje adƒ± gir.");
          return;
        }
        const key = getStorageKey(domain);
        const existing = localStorage.getItem(key);
        if (existing) {
          try {
            currentProject = JSON.parse(existing);
          } catch (e) {
            console.error("JSON parse hatasƒ±, template yeniden olu≈üturuluyor", e);
            currentProject = { domain, tasks: cloneTasksTemplate() };
          }
        } else {
          currentProject = { domain, tasks: cloneTasksTemplate() };
        }
        domainInput.value = domain;
        refreshProjectSelect(domain);
        renderTasks();
        updateJsonPreview();
      }

      function deleteProject(domain) {
        if (!domain) return;
        const key = getStorageKey(domain);
        localStorage.removeItem(key);
        if (currentProject && currentProject.domain === domain) {
          currentProject = null;
          tasksBody.innerHTML = "";
          jsonPreview.value = "";
        }
        refreshProjectSelect(null);
      }

      function updateJsonPreview() {
        if (!currentProject) {
          jsonPreview.value = "";
          return;
        }
        jsonPreview.value = JSON.stringify(currentProject, null, 2);
      }

      function renderTasks() {
        tasksBody.innerHTML = "";
        if (!currentProject) {
          const tr = document.createElement("tr");
          const td = document.createElement("td");
          td.colSpan = 7;
          td.textContent = "√ñnce √ºstten bir domain/proje y√ºkle veya olu≈ütur.";
          td.style.fontSize = "13px";
          td.style.color = "#6b7280";
          td.style.textAlign = "center";
          tr.appendChild(td);
          tasksBody.appendChild(tr);
          return;
        }

        currentProject.tasks.forEach(task => {
          const tr = document.createElement("tr");
          tr.dataset.taskId = task.id;

          // Checkbox
          const tdCheck = document.createElement("td");
          tdCheck.className = "checkbox-cell";
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.checked = !!task.done;
          checkbox.addEventListener("change", () => {
            task.done = checkbox.checked;
            if (checkbox.checked) {
              task.status = "Tamamlandƒ±";
              statusSelect.value = "Tamamlandƒ±";
            } else if (task.status === "Tamamlandƒ±") {
              task.status = "Bekliyor";
              statusSelect.value = "Bekliyor";
            }
            saveCurrentProject();
          });
          tdCheck.appendChild(checkbox);
          tr.appendChild(tdCheck);

          // G√∂rev
          const tdTitle = document.createElement("td");
          tdTitle.textContent = task.title;
          tr.appendChild(tdTitle);

          // Kategori
          const tdCat = document.createElement("td");
          const catSpan = document.createElement("span");
          catSpan.className = "badge";
          catSpan.textContent = task.category;
          tdCat.appendChild(catSpan);
          tr.appendChild(tdCat);

          // Alt kategori
          const tdSubcat = document.createElement("td");
          tdSubcat.textContent = task.subcategory || "";
          tr.appendChild(tdSubcat);

          // A√ßƒ±klama
          const tdDesc = document.createElement("td");
          tdDesc.textContent = task.description || "";
          tr.appendChild(tdDesc);

          // √ñncelik
          const tdPriority = document.createElement("td");
          const prioritySelect = document.createElement("select");
          prioritySelect.className = "select priority-select";
          PRIORITY_OPTIONS.forEach(optVal => {
            const opt = document.createElement("option");
            opt.value = optVal;
            opt.textContent = optVal;
            prioritySelect.appendChild(opt);
          });
          prioritySelect.value = PRIORITY_OPTIONS.includes(task.priority) ? task.priority : "Orta";
          prioritySelect.addEventListener("change", () => {
            task.priority = prioritySelect.value;
            saveCurrentProject();
          });
          tdPriority.appendChild(prioritySelect);
          tr.appendChild(tdPriority);

          // Durum
          const tdStatus = document.createElement("td");
          const statusSelect = document.createElement("select");
          statusSelect.className = "select status-select";
          STATUS_OPTIONS.forEach(optVal => {
            const opt = document.createElement("option");
            opt.value = optVal;
            opt.textContent = optVal;
            statusSelect.appendChild(opt);
          });
          statusSelect.value = STATUS_OPTIONS.includes(task.status) ? task.status : "Bekliyor";
          statusSelect.addEventListener("change", () => {
            task.status = statusSelect.value;
            if (task.status === "Tamamlandƒ±") {
              task.done = true;
              checkbox.checked = true;
            } else if (task.done && task.status !== "Tamamlandƒ±") {
              task.done = false;
              checkbox.checked = false;
            }
            saveCurrentProject();
          });
          tdStatus.appendChild(statusSelect);
          tr.appendChild(tdStatus);

          tasksBody.appendChild(tr);
        });
      }

      // Event bindings
      loadDomainBtn.addEventListener("click", () => {
        const domain = domainInput.value.trim();
        if (!domain) {
          alert("L√ºtfen bir domain veya proje adƒ± gir.");
          return;
        }
        loadProject(domain);
      });

      domainInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          loadDomainBtn.click();
        }
      });

      projectSelect.addEventListener("change", () => {
        const domain = projectSelect.value;
        if (!domain) return;
        loadProject(domain);
      });

      deleteProjectBtn.addEventListener("click", () => {
        const domain = projectSelect.value || (currentProject && currentProject.domain);
        if (!domain) {
          alert("Silmek i√ßin √∂nce bir proje se√ß.");
          return;
        }
        const ok = confirm(`'${domain}' projesini (JSON kaydƒ±nƒ±) silmek istediƒüine emin misin?`);
        if (!ok) return;
        deleteProject(domain);
      });

      // ƒ∞lk a√ßƒ±lƒ±≈üta kayƒ±tlƒ± projeleri listele
      (function init() {
        refreshProjectSelect(null);
        renderTasks();
      })();
    })();
  </script>
</body>
</html>
